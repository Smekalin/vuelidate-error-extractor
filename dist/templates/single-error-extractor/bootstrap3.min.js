/*!
 * vuelidate-error-extractor v2.0.0-beta.0 
 * (c) 2018 Dobromir Hristov
 * Released under the MIT License.
 */
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.VuelidateErrorExtractorBootstrap3Template={})}(this,function(e){"use strict";function r(e,r,t){return"function"==typeof t.join?t.join(e):e[0]+r+e[1]}function t(e,r,t){return"function"==typeof t.split?t.split(e):e.split(r)}function a(e,r,t){return"function"!=typeof t.isValid||t.isValid(e,r)}function i(e){return c(e)||Array.isArray(e)||"function"==typeof e}function n(e,r,t){return p(e,r,{default:t})}function s(e){return"[vuelidate-error-extractor]: "+e}function o(e,r){if("string"!=typeof e)throw new TypeError(s("Expected a string in the first argument, got "+typeof e));if("object"!=typeof r)throw new TypeError(s("Expected an Object/Array in the second argument, got "+typeof r));var t=/{(.*?)}/g;return e.replace(t,function(e,t){return n(r,t)||""})}function l(e,r,t){return void 0===t&&(t={}),{validationKey:e,hasError:!this.preferredValidator[r],$params:this.preferredValidator.$params[r],$dirty:this.preferredValidator.$dirty,$error:this.preferredValidator.$error,$invalid:this.preferredValidator.$invalid,params:Object.assign({},{attribute:u(this.$vuelidateErrorExtractor.attributes,this.attribute,this.label,this.name),label:this.label},t,this.validatorParams)}}function u(e,r,t,a){return r||(e[a]?e[a]:e[t]?e[t]:t)}function d(e,r,t){var a=n(e,r,!1);return a?o(a,t):r}function f(){var e=document.head||document.getElementsByTagName("head")[0],r=f.styles||(f.styles={}),t="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(a,i){if(!document.querySelector('style[data-vue-ssr-id~="'+a+'"]')){var n=t?i.media||"default":a,s=r[n]||(r[n]={ids:[],parts:[],element:void 0});if(!s.ids.includes(a)){var o=i.source,l=s.ids.length;if(s.ids.push(a),t&&(s.element=s.element||document.querySelector("style[data-group="+n+"]")),!s.element){var u=s.element=document.createElement("style");u.type="text/css",i.media&&u.setAttribute("media",i.media),t&&(u.setAttribute("data-group",n),u.setAttribute("data-next-index","0")),e.appendChild(u)}if(t&&(l=parseInt(s.element.getAttribute("data-next-index")),s.element.setAttribute("data-next-index",l+1)),s.element.styleSheet)s.parts.push(o),s.element.styleSheet.cssText=s.parts.filter(Boolean).join("\n");else{var d=document.createTextNode(o),f=s.element.childNodes;f[l]&&s.element.removeChild(f[l]),f.length?s.element.insertBefore(d,f[l]):s.element.appendChild(d)}}}}}var c=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},p=function(e,n,s){if(c(s)||(s={default:s}),!i(e))return void 0!==s.default?s.default:e;"number"==typeof n&&(n=String(n));var o=Array.isArray(n),l="string"==typeof n,u=s.separator||".",d=s.joinChar||("string"==typeof u?u:".");if(!l&&!o)return e;if(l&&n in e)return a(n,e,s)?e[n]:s.default;var f=o?n:t(n,u,s),p=f.length,v=0;do{var h=f[v];for("number"==typeof h&&(h=String(h));h&&"\\"===h.slice(-1);)h=r([h.slice(0,-1),f[++v]||""],d,s);if(h in e){if(!a(h,e,s))return s.default;e=e[h]}else{for(var m=!1,g=v+1;g<p;)if(h=r([h,f[g++]],d,s),m=h in e){if(!a(h,e,s))return s.default;e=e[h],v=g-1;break}if(!m)return s.default}}while(++v<p&&i(e));return v===p?e:s.default},v={inject:{formValidator:{default:!1}},props:{validator:{type:Object,default:function(){return{$dirty:!1,$error:!1,$invalid:!0,$pending:!1,$params:[]}}},messages:{type:Object,default:function(){return{}}}},computed:{activeErrors:function(){return this.errors.filter(function(e){return e.hasError&&e.$dirty})},mergedMessages:function(){return Object.assign({},this.$vuelidateErrorExtractor.messages,this.messages)},firstError:function(){return this.activeErrors.length?this.activeErrors[0]:""},firstErrorMessage:function(){return this.activeErrors.length?this.activeErrorMessages[0]:""},hasErrors:function(){return this.preferredValidator.$error},activeErrorMessages:function(){var e=this;return this.activeErrors.map(function(r){return e.getErrorMessage(r.validationKey,r.params)})}},methods:{getErrorMessage:function(e,r){return this.$vuelidateErrorExtractor.i18n?this.getI18nMessage(e,r):this.getPlainMessage(e,r)},getI18nMessage:function(e,r){return this.$t(this.$vuelidateErrorExtractor.i18n+"."+e,r)},getPlainMessage:function(e,r){return d(this.mergedMessages,e,r)}}},h={props:{label:{type:String,default:""},attribute:{type:String,default:""},name:{type:String,default:""},validatorParams:{type:Object,default:function(){return{}}},showSingleError:{type:Boolean,default:!1}},extends:v,computed:{preferredValidator:function(){return this.$options.propsData.hasOwnProperty("validator")?this.validator:this.name?n(this.formValidator,this.name,this.validator):this.validator},errors:function(){var e=this,r=this.preferredValidator.$params,t=this.$vuelidateErrorExtractor.validationKeys;return Object.keys(r).map(function(a){var i=r[a];if(void 0!==t&&t.hasOwnProperty(a)){var n=t[a].params.reduce(function(r,t){return r[t.ext]=e.validatorParams.hasOwnProperty(t.other)?e.validatorParams[t.other]:i[t.vue],r},{});return l.call(e,t[a].validationKey,a,n)}var s=Object.assign({},i,e.validatorParams);return delete s.type,l.call(e,a,a,s)})}}},m={mixins:[h]},g=m,y=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"form-group",class:{"has-error":e.hasErrors,"has-success":!e.hasErrors&&e.validator.$dirty}},[e._t("label",[e.label?t("label",{staticClass:"control-label"},[e._v(e._s(e.label)+" "+e._s(e.errors?"*":""))]):e._e()]),e._v(" "),e._t("default",null,{errors:e.activeErrors,hasErrors:e.hasErrors,firstErrorMessage:e.firstErrorMessage}),e._v(" "),e._t("errors",[e.hasErrors?t("div",{staticClass:"help-block"},[e.showSingleError?t("span",{attrs:{"data-validation-attr":e.firstError.validationKey}},[e._v("\n        "+e._s(e.firstErrorMessage)+"\n      ")]):e._e(),e._v(" "),e.showSingleError?e._e():e._l(e.activeErrors,function(r){return t("span",{key:r.validationKey,attrs:{"data-validation-attr":r.validationKey}},[e._v("\n          "+e._s(e.getErrorMessage(r.validationKey,r.params))+"\n        ")])})],2):e._e()],{errors:e.activeErrors,hasErrors:e.hasErrors,firstErrorMessage:e.firstErrorMessage})],2)},E=[];y._withStripped=!0;var b=function(e,r,t,a,i,n,s,o){var l=("function"==typeof t?t.options:t)||{};return l.__file="D:\\web\\public-projects\\vuelidate-error-extractor\\src\\templates\\single-error-extractor\\bootstrap3.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,i&&(l.functional=!0)),l._scopeId=a,l}({render:y,staticRenderFns:E},void 0,g,void 0,!1,void 0,f,void 0);e.default=b,Object.defineProperty(e,"__esModule",{value:!0})});